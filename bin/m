#!/usr/bin/env perl

=head1 NAME

m - short for micro

=head1 DESCRIPTION

Can also take linenumber as an argument



=cut

use Mojo::Base -strict;

my $execute = -f '/snap/bin/micro' ? '/snap/bin/micro' :'micro';

if (@ARGV) {
	my $file = shift @ARGV;

	$file =~ s/\:$//;
	my @cmd = grep {$_ =~/\d/ } @ARGV;
	if (@cmd) {
		my $line = $cmd[0];
		if (defined $line) {
			$line =~ s/\D//g;
			if($line) {
				#$line .=',0' if $line;
				#@cmd = ('-startpos',$line);
				$file.=":$line";
			}
		}
		else {
			@cmd=();
		}
	}
	exec $execute,$file;

} else {
	exec $execute;
}
#say "exec 'micro',@cmd,$file";
